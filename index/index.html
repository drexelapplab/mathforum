<html>
	<head>
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, minimal-ui" />
		<style>
			*
			{
				padding: 0;
				margin: 0;
				border: 0;
			}

			body
			{
				overflow: hidden;
			}

			#container
			{
				background-color: white;
				display: inline-block;
			}
		</style>
	</head>
	<body>
		<div id="container"></div>
		<script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v5.1.0.min.js"></script>
		<script src="shapes.js"></script>
		<script defer="defer">
			//********************************************************************************************//
			//Data Storage
			//********************************************************************************************//

			var newScreenX;
			var newScreenY;
			var scaling;
			var stage;
			var layer;
			var GUIField;
			var img1;
			var imgButton1;

			//********************************************************************************************//
			//Drawing Methods
			//********************************************************************************************//

			// put the paths to your images in imageURLs
			var imageURLs=[];
			imageURLs.push("http://i.imgur.com/q9gPURG.png");
			imageURLs.push("http://i.imgur.com/o6BYYHE.png");
			imageURLs.push("http://i.imgur.com/0jrQpYE.jpg");
			var imagesOK=0;
			var imgs=[];

			function loadAllImages(callback){
				for (var i=0; i<imageURLs.length; i++)
				{
					var img = new Image();
					imgs.push(img);
					img.onload = function()
					{
						imagesOK++;
						if (imagesOK>=imageURLs.length )
						{ callback(); }
					};
					//img.onerror=function() {alert("image load failed"); }
					img.crossOrigin="anonymous";
					img.src = imageURLs[i];
				}
			}

			function initDraw()
			{
				// Data Storage
				newScreenX = (window.innerWidth);
				newScreenY = (window.innerHeight);

				scaling = Math.min(newScreenX, newScreenY) / 12.5;
				
				// Create kinetic stage.
				stage = new Kinetic.Stage({
					container: 'container',
					width: newScreenX,
					height: newScreenY,
				});

				// Create kinetic layer.
				layer = new Kinetic.Layer();
				stage.add(layer);


				// Create GUI Field
				GUIField = new Kinetic.Rect({
					x: 0,
					y: 0,
					width: newScreenX,
					height: newScreenY,
					fill: '#EEEEEE',
					stroke: 'black',
					strokeWidth: 4
				});

				//Text
				{
					// Create Text Content.
					textContent = new Kinetic.Text({
						x: 5,
						y: 10,
						fontFamily: 'Times New Roman',
						fontSize: 36,
						text: 'The Math Forum @ Drexel',
						fill: 'black',
						width: newScreenX - 10,
						align: 'center'
					});
				}

				// Buttons
				{
					if (newScreenX >= newScreenY)
					{
						// Create First Button
						imgButton1 = new Kinetic.Image({
							x: 5,
							y: 10 + (newScreenY / 10),
							image: imgs[0],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							scale: 0.01,
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton2 = new Kinetic.Image({
							x: 5,
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: imgs[1],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton3 = new Kinetic.Image({
							x: 10 + ((newScreenX - 25) / 4),
							y: 10 + (newScreenY / 10),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton4 = new Kinetic.Image({
							x: 10 + ((newScreenX - 25) / 4),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton5 = new Kinetic.Image({
							x: 15 + ((newScreenX - 25) / 2),
							y: 10 + (newScreenY / 10),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton6 = new Kinetic.Image({
							x: 15 + ((newScreenX - 25) / 2),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton7 = new Kinetic.Image({
							x: 20 + (3 * (newScreenX - 25) / 4),
							y: 10 + (newScreenY / 10),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton8 = new Kinetic.Image({
							x: 20 + (3 * (newScreenX - 25) / 4),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: imgs[2],
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});
					}
					else
					{
						imgButton1 = new Kinetic.Image({
							x: 5,
							y: 10 + (newScreenY / 10),
							image: imgs[0],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton2 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 10 + (newScreenY / 10),
							image: imgs[1],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton3 = new Kinetic.Image({
							x: 5,
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 4),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton4 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 4),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton5 = new Kinetic.Image({
							x: 5,
							y: 20 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 2),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton6 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 20 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 2),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton7 = new Kinetic.Image({
							x: 5,
							y: 25 + (newScreenY / 10) + (3 * ((9 * newScreenY / 10) - 30) / 4),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						imgButton8 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 25 + (newScreenY / 10) + (3 * ((9 * newScreenY / 10) - 30) / 4),
							image: imgs[2],
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});
					}
				}

				// Functionality
				{
					imgButton1.on("touchstart", function() {
						window.location = "./tables.html";
					});

					imgButton1.on("mousedown", function() {
						window.location = "./tables.html";
					});

					imgButton2.on("touchstart", function() {
						window.location = "./fencing.html";
					});

					imgButton2.on("mousedown", function() {
						window.location = "./fencing.html";
					});

					imgButton3.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton3.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton4.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton4.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton5.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton5.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton6.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton6.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton7.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton7.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton8.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton8.on("mousedown", function() {
						alert("Invalid selection.");
					});
				}

				// Layers
				{
					layer.add(GUIField);
					layer.add(textContent);
					layer.add(imgButton1);
					layer.add(imgButton2);
					layer.add(imgButton3);
					layer.add(imgButton4);
					layer.add(imgButton5);
					layer.add(imgButton6);
					layer.add(imgButton7);
					layer.add(imgButton8);
					layer.draw();
				}
			}

			function reDraw()
			{
				// Data Storage
				newScreenX = (window.innerWidth);
				newScreenY = (window.innerHeight);

				scaling = Math.min(newScreenX, newScreenY) / 12.5;
				
				// Create kinetic stage.
				stage = new Kinetic.Stage({
					container: 'container',
					width: newScreenX,
					height: newScreenY,
				});

				// Create kinetic layer.
				layer = new Kinetic.Layer();

				// Create GUI Field
				GUIField = new Kinetic.Rect({
					x: 0,
					y: 0,
					width: newScreenX,
					height: newScreenY,
					fill: '#EEEEEE',
					stroke: 'black',
					strokeWidth: 4
				});

				//Text
				{
					// Create Text Content.
					textContent = new Kinetic.Text({
						x: 5,
						y: 10,
						fontFamily: 'Times New Roman',
						fontSize: 36,
						text: 'The Math Forum @ Drexel',
						fill: 'black',
						width: newScreenX - 10,
						align: 'center'
					});
				}

				// Buttons
				{
					if (newScreenX >= newScreenY)
					{
						// Create First Button
						img1 = new Image();
						img1.src = './tables.png'

						imgButton1 = new Kinetic.Image({
							x: 5,
							y: 10 + (newScreenY / 10),
							image: img1,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Second Button
						img2 = new Image();
						img2.src = './fencing.png'

						imgButton2 = new Kinetic.Image({
							x: 5,
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: img2,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Third Button
						img3 = new Image();
						img3.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton3 = new Kinetic.Image({
							x: 10 + ((newScreenX - 25) / 4),
							y: 10 + (newScreenY / 10),
							image: img3,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Fourth Button
						img4 = new Image();
						img4.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton4 = new Kinetic.Image({
							x: 10 + ((newScreenX - 25) / 4),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: img4,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Fifth Button
						img5 = new Image();
						img5.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton5 = new Kinetic.Image({
							x: 15 + ((newScreenX - 25) / 2),
							y: 10 + (newScreenY / 10),
							image: img5,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Sixth Button
						img6 = new Image();
						img6.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton6 = new Kinetic.Image({
							x: 15 + ((newScreenX - 25) / 2),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: img6,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Seventh Button
						img7 = new Image();
						img7.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton7 = new Kinetic.Image({
							x: 20 + (3 * (newScreenX - 25) / 4),
							y: 10 + (newScreenY / 10),
							image: img7,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Eighth Button
						img8 = new Image();
						img8.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton8 = new Kinetic.Image({
							x: 20 + (3 * (newScreenX - 25) / 4),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 20) / 2),
							image: img8,
							width: ((newScreenX - 25) / 4),
							height: (((9 * newScreenY / 10) - 20) / 2),
							stroke: 'black',
							strokeWidth: 2
						});
					}
					else
					{
						// Create First Button
						img1 = new Image();
						img1.src = './tables.png'

						imgButton1 = new Kinetic.Image({
							x: 5,
							y: 10 + (newScreenY / 10),
							image: img1,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Second Button
						img2 = new Image();
						img2.src = './fencing.png'

						imgButton2 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 10 + (newScreenY / 10),
							image: img2,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Third Button
						img3 = new Image();
						img3.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton3 = new Kinetic.Image({
							x: 5,
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 4),
							image: img3,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Fourth Button
						img4 = new Image();
						img4.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton4 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 15 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 4),
							image: img4,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Fifth Button
						img5 = new Image();
						img5.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton5 = new Kinetic.Image({
							x: 5,
							y: 20 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 2),
							image: img5,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Sixth Button
						img6 = new Image();
						img6.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton6 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 20 + (newScreenY / 10) + (((9 * newScreenY / 10) - 30) / 2),
							image: img6,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Seventh Button
						img7 = new Image();
						img7.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton7 = new Kinetic.Image({
							x: 5,
							y: 25 + (newScreenY / 10) + (3 * ((9 * newScreenY / 10) - 30) / 4),
							image: img7,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});

						// Create Eighth Button
						img8 = new Image();
						img8.src = 'http://cyurap.com/img/no-image.jpg'

						imgButton8 = new Kinetic.Image({
							x: 10 + ((newScreenX - 15) / 2),
							y: 25 + (newScreenY / 10) + (3 * ((9 * newScreenY / 10) - 30) / 4),
							image: img8,
							width: ((newScreenX - 15) / 2),
							height: (((9 * newScreenY / 10) - 30) / 4),
							stroke: 'black',
							strokeWidth: 2
						});
					}
				}

				// Functionality
				{
					imgButton1.on("touchstart", function() {
						window.location = "./tables.html";
					});

					imgButton1.on("mousedown", function() {
						window.location = "./tables.html";
					});

					imgButton2.on("touchstart", function() {
						window.location = "./fencing.html";
					});

					imgButton2.on("mousedown", function() {
						window.location = "./fencing.html";
					});

					imgButton3.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton3.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton4.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton4.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton5.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton5.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton6.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton6.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton7.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton7.on("mousedown", function() {
						alert("Invalid selection.");
					});

					imgButton8.on("touchstart", function() {
						alert("Invalid selection.");
					});

					imgButton8.on("mousedown", function() {
						alert("Invalid selection.");
					});
				}

				// Layers
				{
					layer.add(GUIField);
					layer.add(textContent);
					layer.add(imgButton1);
					layer.add(imgButton2);
					layer.add(imgButton3);
					layer.add(imgButton4);
					layer.add(imgButton5);
					layer.add(imgButton6);
					layer.add(imgButton7);
					layer.add(imgButton8);
					stage.add(layer);
				}
			}

			//********************************************************************************************//
			//Control Methods
			//********************************************************************************************//



			//********************************************************************************************//
			//Control Events
			//********************************************************************************************//

			window.onresize = function(event)
			{ loadAllImages(reDraw); }

			//********************************************************************************************//
			//Initialization Code
			//********************************************************************************************//
			// fully load every image, then call the start function
			loadAllImages(initDraw);
		</script>
	</body>
</html>